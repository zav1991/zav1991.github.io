(function(t){function i(i){for(var s,l,r=i[0],u=i[1],o=i[2],m=0,d=[];m<r.length;m++)l=r[m],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&d.push(a[l][0]),a[l]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(t[s]=u[s]);c&&c(i);while(d.length)d.shift()();return n.push.apply(n,o||[]),e()}function e(){for(var t,i=0;i<n.length;i++){for(var e=n[i],s=!0,r=1;r<e.length;r++){var u=e[r];0!==a[u]&&(s=!1)}s&&(n.splice(i--,1),t=l(l.s=e[0]))}return t}var s={},a={app:0},n=[];function l(i){if(s[i])return s[i].exports;var e=s[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,l),e.l=!0,e.exports}l.m=t,l.c=s,l.d=function(t,i,e){l.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,i){if(1&i&&(t=l(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(l.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)l.d(e,s,function(i){return t[i]}.bind(null,s));return e},l.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(i,"a",i),i},l.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=i,r=r.slice();for(var o=0;o<r.length;o++)i(r[o]);var c=u;n.push([0,"chunk-vendors"]),e()})({0:function(t,i,e){t.exports=e("56d7")},"034f":function(t,i,e){"use strict";var s=e("85ec"),a=e.n(s);a.a},"0848":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAALCAYAAABGbhwYAAAAlklEQVQYlX3RwQnDMAwFUMkESg5ZoFt0AA/hLOYhcsgtOxS8QXfI1Yccein5wUEywg0RGCzpIbDMAKiJUdLFlrsLFExesbtBwUyvUNFu4G6xsyilNKuSe8Uu5/xQ5L1/Kyx3xWJoiDG+iKgvGwAwySm9XnpDB2Bj5g+AX7snAF/tnY+5QgafPbue2/j7GWZ+yqS1FonoAKs5VSJeKPXkAAAAAElFTkSuQmCC"},1441:function(t,i,e){},"1d00":function(t,i,e){},"252b":function(t,i,e){},"2b73":function(t,i,e){"use strict";var s=e("3447"),a=e.n(s);a.a},"2e60":function(t,i,e){},3447:function(t,i,e){},"3c7d":function(t,i,e){"use strict";var s=e("ebad"),a=e.n(s);a.a},"56d7":function(t,i,e){"use strict";e.r(i);e("e260"),e("e6cf"),e("cca6"),e("a79d");var s=e("2b0e"),a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"app"}},[e("Investment")],1)},n=[],l=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"investment"},[e("Header"),e("SumInv",{attrs:{sumInv:t.sumInv,needValidate:t.needValidate,isValidSum:t.isValidSum},model:{value:t.sumData,callback:function(i){t.sumData=i},expression:"sumData"}}),e("div",{staticClass:"mult-line"},[e("Multiplier",{attrs:{mult:t.mult,needValidate:t.needValidate,isValidMult:t.isValidMult},model:{value:t.multData,callback:function(i){t.multData=i},expression:"multData"}}),e("ResultSum",{attrs:{result:t.result}})],1),e("Details",{attrs:{sumInv:t.sumInv,needValidate:t.needValidate},model:{value:t.detailsData,callback:function(i){t.detailsData=i},expression:"detailsData"}}),e("div",{staticClass:"buttons-wrapper"},[e("div",{staticClass:"button-in-down",on:{click:function(i){return t.sendRequest("reduction")}}},[t._m(0),e("div",{staticClass:"button-in-down--right-part"},[t._v("В снижение")])]),e("div",{staticClass:"button-in-up",on:{click:function(i){return t.sendRequest("growth")}}},[t._m(1),e("div",{staticClass:"button-in-up--right-part"},[t._v("В рост")])])])],1)},r=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"button-in-down--left-part"},[s("img",{attrs:{src:e("72a6"),alt:""}})])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"button-in-up--left-part"},[s("img",{attrs:{src:e("0848"),alt:""}})])}],u=(e("d3b7"),e("96cf"),e("89ba")),o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"header"},[t._v(t._s(t.msg))])},c=[],m={name:"InvestmentHeader",data:function(){return{msg:"Инвестировать сейчас"}}},d=m,p=(e("3c7d"),e("2877")),v=Object(p["a"])(d,o,c,!1,null,"25a9883b",null),f=v.exports,h=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"sum"},[e("div",{staticClass:"sum-label"},[t._v(t._s(t.label))]),e("div",{staticClass:"sum-input-wrapper"},[e("div",{staticClass:"sum-input-currency"},[t._v("$")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.summ,expression:"summ"}],class:t.inputClass,attrs:{type:"text",onpaste:"return false"},domProps:{value:t.summ},on:{keypress:t.validationInput,input:[function(i){i.target.composing||(t.summ=i.target.value)},t.changeSum],focus:t.onFocus}}),t.needError?e("Error",{attrs:{type:"sum",msg:"Минимальная сумма инвестиции $ 100"}}):t._e()],1)])},b=[],g=(e("a9e3"),e("e25e"),e("ac1f"),e("5319"),function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{class:t.errorClass},[t._v(" "+t._s(t.msg)+" ")])}),A=[],I={name:"Error",props:{type:String,msg:String},computed:{errorClass:function(){return this.type?"error error-".concat(this.type):""}}},_=I,V=(e("2b73"),Object(p["a"])(_,g,A,!1,null,"075a67bd",null)),y=V.exports,C={name:"SumInv",components:{Error:y},props:{sumInv:Number,isValidSum:Boolean,needValidate:Number},data:function(){return{label:"Сумма инвестиции",summ:this.sumInv.toLocaleString("ru-RU"),needError:!1}},computed:{inputClass:function(){return this.needError?"sum-input sum-input-error":"sum-input"}},watch:{needValidate:function(){this.needError=!this.isValidSum}},methods:{validationInput:function(t){if(!/\d/.test(t.key))return t.preventDefault(),!1},changeSum:function(){var t=parseInt(this.summ.replace(/\s/g,""));t<0?this.summ="0":t>2e5?this.summ="200 000":""===this.summ?this.summ="0":this.summ=t.toLocaleString("ru-RU"),this.validate()},onFocus:function(){this.needError=!1,this.validate()},validate:function(){this.$emit("input",{sumInv:parseInt(this.summ.replace(/\s/g,"")),isValidSum:parseInt(this.summ.replace(/\s/g,""))>=100})}}},D=C,k=(e("a0be"),Object(p["a"])(D,h,b,!1,null,"93534a84",null)),S=k.exports,w=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"multiplier"},[e("div",{staticClass:"multiplier-label"},[t._v(t._s(t.label))]),e("div",{staticClass:"multiplier-input-wrapper"},[e("div",{staticClass:"multiplier-input-currency"},[t._v("x")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.multiplier,expression:"multiplier"},{name:"click-outside",rawName:"v-click-outside",value:t.hideSlider,expression:"hideSlider"}],class:t.inputClass,attrs:{type:"text",onpaste:"return false",id:"inputMult"},domProps:{value:t.multiplier},on:{keypress:t.validationInput,input:[function(i){i.target.composing||(t.multiplier=i.target.value)},t.changeMultiplier],focus:t.onFocus,focusin:t.openSlider}}),t.isNeedSlider?e("div",{staticClass:"slider-wrapper",attrs:{id:"sliderWrapper"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.multiplier,expression:"multiplier"}],staticClass:"input-slider",attrs:{type:"range",min:"1",max:"40",step:"1"},domProps:{value:t.multiplier},on:{input:t.changeMultiplier,__r:function(i){t.multiplier=i.target.value}}}),e("span",{staticClass:"slider-label label-one"},[t._v("1")]),e("span",{staticClass:"slider-label label-five"},[t._v("5")]),e("span",{staticClass:"slider-label label-twenty"},[t._v("20")]),e("span",{staticClass:"slider-label label-forty"},[t._v("40")])]):t._e(),t.needError?e("Error",{attrs:{type:"mult",msg:"Неверное значение мультипликатора"}}):t._e()],1)])},x=[],L=e("e67d"),E=e.n(L),P={name:"Multiplier",components:{Error:y},directives:{ClickOutside:E.a},props:{mult:Number,needValidate:Number,isValidMult:Boolean},data:function(){return{label:"Мультипликатор",multiplier:this.mult,needError:!1,isNeedSlider:!1}},computed:{inputClass:function(){return this.needError?"multiplier-input multiplier-input-error":"multiplier-input"}},watch:{needValidate:function(){this.needError=!this.isValidMult}},methods:{hideSlider:function(){this.isNeedSlider=!1},openSlider:function(){this.isNeedSlider=!0},validationInput:function(t){if(!/\d/.test(t.key))return t.preventDefault(),!1},changeMultiplier:function(){var t=parseInt(this.multiplier);t<0?this.multiplier="0":t>99?this.multiplier="99":""===this.multiplier&&(this.multiplier="0"),this.validate()},onFocus:function(){this.needError=!1,this.validate()},validate:function(){this.$emit("input",{mult:parseInt(this.multiplier),isValidMult:parseInt(this.multiplier)>=1&&parseInt(this.multiplier)<=40})}}},M=P,O=(e("8fd2"),Object(p["a"])(M,w,x,!1,null,"24330a80",null)),N=O.exports,j=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"result-sum"},[t._v("= $ "+t._s(t.result.toLocaleString("ru-RU")))])},$=[],R={name:"ResultSum",props:{result:Number}},U=R,F=(e("6a9a"),Object(p["a"])(U,j,$,!1,null,"9638e246",null)),G=F.exports,K=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("details",{staticClass:"details"},[e("summary",{staticClass:"details-summary"},[t._v(" Ограничить прибыль и убыток ")]),e("div",{staticClass:"details-wrapper"},[e("Limits",{attrs:{limits:t.limits},model:{value:t.limits,callback:function(i){t.limits=i},expression:"limits"}}),e("InputLimit",{attrs:{label:"Прибыль",detail:"profit",limits:t.limits,sumInv:t.sumInv,isValid:t.isValidProfit,needValidate:t.needValidate},model:{value:t.takeProfitData,callback:function(i){t.takeProfitData=i},expression:"takeProfitData"}}),e("InputLimit",{attrs:{label:"Убыток",detail:"loss",limits:t.limits,sumInv:t.sumInv,isValid:t.isValidLoss,needValidate:t.needValidate},model:{value:t.stopLossData,callback:function(i){t.stopLossData=i},expression:"stopLossData"}})],1)])},B=[],Q=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"limits"},[e("label",{staticClass:"limits-label"},[t._v("Ограничения в")]),e("div",{staticClass:"limits-inputs-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.limit,expression:"limit"}],staticClass:"limits-input",attrs:{type:"radio",id:"limits-percent",name:"limits",value:"true"},domProps:{checked:t._q(t.limit,"true")},on:{change:[function(i){t.limit="true"},t.toggleLimits]}}),e("label",{staticClass:"limits-input-label",attrs:{for:"limits-percent"}},[t._v("%")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.limit,expression:"limit"}],staticClass:"limits-input",attrs:{type:"radio",id:"limits-money",name:"limits",value:"false"},domProps:{checked:t._q(t.limit,"false")},on:{change:[function(i){t.limit="false"},t.toggleLimits]}}),e("label",{staticClass:"limits-input-label",attrs:{for:"limits-money"}},[t._v("$")])])])},Y=[],q={name:"Limits",props:{limits:Boolean},data:function(){return{limit:this.limits}},methods:{toggleLimits:function(){console.log("toggle. Current limits: ".concat(this.limit)),this.$emit("input","true"===this.limit)}}},H=q,T=(e("9d53"),Object(p["a"])(H,Q,Y,!1,null,"4b650a94",null)),X=T.exports,z=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"limit"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isActive,expression:"isActive"}],staticClass:"limit-checkbox",attrs:{type:"checkbox",id:"limit-checker"},domProps:{checked:Array.isArray(t.isActive)?t._i(t.isActive,null)>-1:t.isActive},on:{change:function(i){var e=t.isActive,s=i.target,a=!!s.checked;if(Array.isArray(e)){var n=null,l=t._i(e,n);s.checked?l<0&&(t.isActive=e.concat([n])):l>-1&&(t.isActive=e.slice(0,l).concat(e.slice(l+1)))}else t.isActive=a}}}),e("label",{staticClass:"limit-checkbox-label",attrs:{for:"limit-checker"}},[t._v(t._s(t.label))]),e("div",{staticClass:"limit-currency"},[t._v(t._s(t.currency))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.limit,expression:"limit"}],class:t.inputClass,attrs:{type:"number",min:"0",step:"1",name:"limit",readonly:t.readonly,onpaste:"return false"},domProps:{value:t.limit},on:{keypress:t.validationInput,focus:t.onFocus,input:[function(i){i.target.composing||(t.limit=i.target.value)},t.changeLimit]}}),t.needError?e("Error",{attrs:{type:"profit",msg:t.errorMessage}}):t._e()],1)},J=[],W={name:"InputLimit",components:{Error:y},props:{label:String,limits:Boolean,sumInv:Number,isValid:Boolean,needValidate:Number,detail:String},data:function(){return{limit:this.isActive?this.limits?30:Math.ceil(.3*this.sumInv):"",isActive:!1,needError:!1}},computed:{currency:function(){return this.limits?"%":"$"},inputClass:function(){return this.isActive?this.needError?"limit-input-active limit-input-active-error":"limit-input-active":"limit-input"},readonly:function(){return!this.isActive},errorMessage:function(){if("profit"===this.detail)return this.limits?"Не может быть меньше 10%":"Не может быть меньше $ ".concat(Math.ceil(.1*this.sumInv));if("loss"===this.detail)if(this.limits){if(parseInt(this.limit)>100)return"Не может быть больше 100%";if(parseInt(this.limit)<10)return"Не может быть меньше 10%"}else{if(parseInt(this.limit)>this.sumInv)return"Не может быть больше $ ".concat(this.sumInv);if(parseInt(this.limit)<Math.ceil(.1*this.sumInv))return"Не может быть меньше $ ".concat(Math.ceil(.1*this.sumInv))}return""}},watch:{limits:function(){this.limit=this.isActive?this.limits?30:Math.ceil(.3*this.sumInv):""},isActive:function(){this.limit=this.isActive?this.limits?30:Math.ceil(.3*this.sumInv):""},limit:function(){this.validate()},needValidate:function(){this.needError=!this.isValid}},methods:{validationInput:function(t){if(!/\d/.test(t.key))return t.preventDefault(),!1},onFocus:function(){this.needError=!1,this.validate()},changeLimit:function(){this.validate()},validate:function(){var t=!1;"profit"===this.detail?this.limits?parseInt(this.limit)>=10&&(t=!0):parseInt(this.limit)>=Math.ceil(.1*this.sumInv)&&(t=!0):"loss"===this.detail&&(this.limits?parseInt(this.limit)>=10&&parseInt(this.limit)<=100&&(t=!0):parseInt(this.limit)<=this.sumInv&&parseInt(this.limit)>=Math.ceil(.1*this.sumInv)&&(t=!0)),this.$emit("input",{data:this.isActive?parseInt(this.limit):-1,isValid:!this.isActive||t})}}},Z=W,tt=(e("89d1"),Object(p["a"])(Z,z,J,!1,null,"23831240",null)),it=tt.exports,et={name:"Details",components:{InputLimit:it,Limits:X},props:{sumInv:Number,needValidate:Number},data:function(){return{limits:!1,takeProfitData:{},takeProfit:-1,stopLossData:{},stopLoss:-1,isValidProfit:!0,isValidLoss:!0}},watch:{limits:function(){this.bubbleData()},takeProfit:function(){this.bubbleData()},stopLoss:function(){this.bubbleData()},needValidate:function(){this.validate()},takeProfitData:function(){this.takeProfit=this.takeProfitData.data,this.isValidProfit=this.takeProfitData.isValid},stopLossData:function(){this.stopLoss=this.stopLossData.data,this.isValidLoss=this.stopLossData.isValid}},methods:{bubbleData:function(){this.$emit("input",{details:{limits:this.limits,takeProfit:this.takeProfit,stopLoss:this.stopLoss},isValidDetails:this.isValidLoss&&this.isValidProfit})},validate:function(){}}},st=et,at=(e("b3b5"),Object(p["a"])(st,K,B,!1,null,"87442654",null)),nt=at.exports,lt={name:"Investment",components:{Details:nt,ResultSum:G,Multiplier:N,SumInv:S,Header:f},data:function(){return{sumData:{},sumInv:5e3,isValidSum:!0,multData:{},mult:40,isValidMult:!0,detailsData:{},details:{},isValidDetails:!0,needValidate:0}},computed:{result:function(){var t=this;return t.sumInv*t.mult}},watch:{sumData:function(){this.sumInv=this.sumData.sumInv,this.isValidSum=this.sumData.isValidSum},multData:function(){this.mult=this.multData.mult,this.isValidMult=this.multData.isValidMult},detailsData:function(){this.details=this.detailsData.details,this.isValidDetails=this.detailsData.isValidDetails}},methods:{sendRequest:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(i){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this,e.needValidate++,s={sumInv:e.sumInv,mult:e.mult,direction:i},e.details.takeProfit&&-1!==e.details.takeProfit&&(e.details.limits?s.takeProfit=e.sumInv/100*e.details.takeProfit:s.takeProfit=e.details.takeProfit),e.details.stopLoss&&-1!==e.details.stopLoss&&(e.details.limits?s.stopLoss=e.sumInv/100*e.details.stopLoss:s.stopLoss=e.details.stopLoss),this.isValidSum&&this.isValidMult&&this.isValidDetails&&fetch("http://127.0.0.1:8080",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 6:case"end":return t.stop()}}),t,this)})));function i(i){return t.apply(this,arguments)}return i}()}},rt=lt,ut=(e("eb26"),Object(p["a"])(rt,l,r,!1,null,"88ad3d2c",null)),ot=ut.exports,ct={name:"app",components:{Investment:ot}},mt=ct,dt=(e("034f"),Object(p["a"])(mt,a,n,!1,null,null,null)),pt=dt.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(pt)}}).$mount("#app")},"65b3":function(t,i,e){},"6a9a":function(t,i,e){"use strict";var s=e("1d00"),a=e.n(s);a.a},"72a6":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAALCAYAAABGbhwYAAAAoUlEQVQYlZWRsQ0CMQxFfzgkKorUVzlDsABMEGpEzx5Mcj0TMEsyQgpqMPpwhpCDAktRnP+fvizHqSqaGsbnrpZnLfWr/gb7ifOu3sAI4AhgNUGeGr04L6UsvPcdgMMXiFpHxgFYppS2IrIGcKvGuRLKOZ9DCKfHepxzhKOIbOpIg1T1AoLjLgnvVXXgYU/N/I+FWzL7V5J57c8Q5l1DAHAHgcNRjviv0EEAAAAASUVORK5CYII="},"85ec":function(t,i,e){},"89d1":function(t,i,e){"use strict";var s=e("252b"),a=e.n(s);a.a},"8fd2":function(t,i,e){"use strict";var s=e("1441"),a=e.n(s);a.a},"9d53":function(t,i,e){"use strict";var s=e("fd62"),a=e.n(s);a.a},a0be:function(t,i,e){"use strict";var s=e("b658"),a=e.n(s);a.a},b3b5:function(t,i,e){"use strict";var s=e("65b3"),a=e.n(s);a.a},b658:function(t,i,e){},eb26:function(t,i,e){"use strict";var s=e("2e60"),a=e.n(s);a.a},ebad:function(t,i,e){},fd62:function(t,i,e){}});
//# sourceMappingURL=app.95eedc20.js.map